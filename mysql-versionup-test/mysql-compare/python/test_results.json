{"created": 1766316763.9279199, "duration": 22.7246515750885, "exitcode": 1, "root": "/home/ubuntu/dev-proj/agile_vibe_test", "environment": {}, "summary": {"failed": 5, "passed": 28, "total": 33, "collected": 33}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "mysql-versionup-test/mysql-compare/python/tests", "type": "Dir"}]}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py", "outcome": "passed", "result": [{"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py::test_authentication_comparison[mysql.connector-native_user]", "type": "Function", "lineno": 4}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py::test_authentication_comparison[mysql.connector-sha2_user]", "type": "Function", "lineno": 4}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py::test_authentication_comparison[pymysql-native_user]", "type": "Function", "lineno": 4}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py::test_authentication_comparison[pymysql-sha2_user]", "type": "Function", "lineno": 4}]}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py", "outcome": "passed", "result": [{"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_no_parent_pk[mysql80]", "type": "Function", "lineno": 3}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_no_parent_pk[mysql84]", "type": "Function", "lineno": 3}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_column_type_mismatch[mysql80]", "type": "Function", "lineno": 40}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_column_type_mismatch[mysql84]", "type": "Function", "lineno": 40}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_column_length_mismatch[mysql80]", "type": "Function", "lineno": 62}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_column_length_mismatch[mysql84]", "type": "Function", "lineno": 62}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_collation_mismatch[mysql80]", "type": "Function", "lineno": 94}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_collation_mismatch[mysql84]", "type": "Function", "lineno": 94}]}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_perf_simple.py::TestPerformance", "outcome": "passed", "result": [{"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_perf_simple.py::TestPerformance::test_insert_tps[mysql80]", "type": "Function", "lineno": 43}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_perf_simple.py::TestPerformance::test_insert_tps[mysql84]", "type": "Function", "lineno": 43}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_perf_simple.py::TestPerformance::test_select_latency[mysql80]", "type": "Function", "lineno": 69}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_perf_simple.py::TestPerformance::test_select_latency[mysql84]", "type": "Function", "lineno": 69}]}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_perf_simple.py", "outcome": "passed", "result": [{"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_perf_simple.py::TestPerformance", "type": "Class"}]}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py", "outcome": "passed", "result": [{"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_pk_less_table[mysql80]", "type": "Function", "lineno": 3}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_pk_less_table[mysql84]", "type": "Function", "lineno": 3}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_collation_join[mysql80]", "type": "Function", "lineno": 36}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_collation_join[mysql84]", "type": "Function", "lineno": 36}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_new_reserved_word[mysql80]", "type": "Function", "lineno": 69}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_new_reserved_word[mysql84]", "type": "Function", "lineno": 69}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_removed_reserved_word[mysql80]", "type": "Function", "lineno": 96}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_removed_reserved_word[mysql84]", "type": "Function", "lineno": 96}]}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py", "outcome": "passed", "result": [{"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[binlog_expire_logs_seconds]", "type": "Function", "lineno": 36}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[innodb_flush_neighbors]", "type": "Function", "lineno": 36}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[innodb_buffer_pool_in_core_file]", "type": "Function", "lineno": 36}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[innodb_flush_log_at_trx_commit]", "type": "Function", "lineno": 36}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[innodb_log_file_size]", "type": "Function", "lineno": 36}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[gtid_mode]", "type": "Function", "lineno": 36}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[enforce_gtid_consistency]", "type": "Function", "lineno": 36}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[log_bin]", "type": "Function", "lineno": 36}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[binlog_row_image]", "type": "Function", "lineno": 36}]}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests", "outcome": "passed", "result": [{"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py", "type": "Module"}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py", "type": "Module"}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_perf_simple.py", "type": "Module"}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py", "type": "Module"}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py", "type": "Module"}]}], "tests": [{"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py::test_authentication_comparison[mysql.connector-native_user]", "lineno": 4, "outcome": "failed", "keywords": ["test_authentication_comparison[mysql.connector-native_user]", "parametrize", "pytestmark", "mysql.connector-native_user", "test_auth.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.00042250199476256967, "outcome": "passed"}, "call": {"duration": 0.07757277699420229, "outcome": "failed", "crash": {"path": "/home/ubuntu/dev-proj/agile_vibe_test/mysql-versionup-test/mysql-compare/python/tests/test_auth.py", "lineno": 34, "message": "Failed: Authentication behavior differs for native_user with mysql.connector: 8.0 is SUCCESS, 8.4 is FAIL"}, "traceback": [{"path": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py", "lineno": 34, "message": "Failed"}], "stdout": "\n--- Comparing auth for user 'native_user' with driver 'mysql.connector' ---\nFailed to connect to mysql84 using mysql.connector with user native_user: 1045 (28000): Access denied for user 'native_user'@'_gateway' (using password: YES)\nResult for MySQL 8.0: SUCCESS\nResult for MySQL 8.4: FAIL\n", "longrepr": "user_key = 'native_user', driver = 'mysql.connector'\n\n    @pytest.mark.parametrize(\"user_key\", [\"native_user\", \"sha2_user\"])\n    @pytest.mark.parametrize(\"driver\", [\"mysql.connector\", \"pymysql\"])\n    def test_authentication_comparison(user_key, driver):\n        \"\"\"\n        Compares authentication behavior between MySQL 8.0 and 8.4.\n        The goal is to observe and report differences, not to pass/fail in a traditional sense.\n        \"\"\"\n        user_info = AUTH_USERS[user_key]\n        results = {}\n    \n        print(f\"\\n--- Comparing auth for user '{user_key}' with driver '{driver}' ---\")\n    \n        # Test against MySQL 8.0\n        conn80 = get_db_connection(\"mysql80\", user=user_info[\"user\"], password=user_info[\"password\"], driver=driver)\n        results[\"mysql80\"] = \"SUCCESS\" if conn80 else \"FAIL\"\n        if conn80:\n            conn80.close()\n    \n        # Test against MySQL 8.4\n        conn84 = get_db_connection(\"mysql84\", user=user_info[\"user\"], password=user_info[\"password\"], driver=driver)\n        results[\"mysql84\"] = \"SUCCESS\" if conn84 else \"FAIL\"\n        if conn84:\n            conn84.close()\n    \n        print(f\"Result for MySQL 8.0: {results['mysql80']}\")\n        print(f\"Result for MySQL 8.4: {results['mysql84']}\")\n    \n        # This assertion will fail if the behavior is different, highlighting the change.\n        if results[\"mysql80\"] != results[\"mysql84\"]:\n>           pytest.fail(f\"Authentication behavior differs for {user_key} with {driver}: 8.0 is {results['mysql80']}, 8.4 is {results['mysql84']}\")\nE           Failed: Authentication behavior differs for native_user with mysql.connector: 8.0 is SUCCESS, 8.4 is FAIL\n\nmysql-versionup-test/mysql-compare/python/tests/test_auth.py:34: Failed"}, "teardown": {"duration": 0.00031936701270751655, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py::test_authentication_comparison[mysql.connector-sha2_user]", "lineno": 4, "outcome": "failed", "keywords": ["test_authentication_comparison[mysql.connector-sha2_user]", "parametrize", "pytestmark", "mysql.connector-sha2_user", "test_auth.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.0004999679804313928, "outcome": "passed"}, "call": {"duration": 0.07223146699834615, "outcome": "failed", "crash": {"path": "/home/ubuntu/dev-proj/agile_vibe_test/mysql-versionup-test/mysql-compare/python/tests/test_auth.py", "lineno": 34, "message": "Failed: Authentication behavior differs for sha2_user with mysql.connector: 8.0 is SUCCESS, 8.4 is FAIL"}, "traceback": [{"path": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py", "lineno": 34, "message": "Failed"}], "stdout": "\n--- Comparing auth for user 'sha2_user' with driver 'mysql.connector' ---\nFailed to connect to mysql84 using mysql.connector with user sha2_user: 1045 (28000): Access denied for user 'sha2_user'@'_gateway' (using password: YES)\nResult for MySQL 8.0: SUCCESS\nResult for MySQL 8.4: FAIL\n", "longrepr": "user_key = 'sha2_user', driver = 'mysql.connector'\n\n    @pytest.mark.parametrize(\"user_key\", [\"native_user\", \"sha2_user\"])\n    @pytest.mark.parametrize(\"driver\", [\"mysql.connector\", \"pymysql\"])\n    def test_authentication_comparison(user_key, driver):\n        \"\"\"\n        Compares authentication behavior between MySQL 8.0 and 8.4.\n        The goal is to observe and report differences, not to pass/fail in a traditional sense.\n        \"\"\"\n        user_info = AUTH_USERS[user_key]\n        results = {}\n    \n        print(f\"\\n--- Comparing auth for user '{user_key}' with driver '{driver}' ---\")\n    \n        # Test against MySQL 8.0\n        conn80 = get_db_connection(\"mysql80\", user=user_info[\"user\"], password=user_info[\"password\"], driver=driver)\n        results[\"mysql80\"] = \"SUCCESS\" if conn80 else \"FAIL\"\n        if conn80:\n            conn80.close()\n    \n        # Test against MySQL 8.4\n        conn84 = get_db_connection(\"mysql84\", user=user_info[\"user\"], password=user_info[\"password\"], driver=driver)\n        results[\"mysql84\"] = \"SUCCESS\" if conn84 else \"FAIL\"\n        if conn84:\n            conn84.close()\n    \n        print(f\"Result for MySQL 8.0: {results['mysql80']}\")\n        print(f\"Result for MySQL 8.4: {results['mysql84']}\")\n    \n        # This assertion will fail if the behavior is different, highlighting the change.\n        if results[\"mysql80\"] != results[\"mysql84\"]:\n>           pytest.fail(f\"Authentication behavior differs for {user_key} with {driver}: 8.0 is {results['mysql80']}, 8.4 is {results['mysql84']}\")\nE           Failed: Authentication behavior differs for sha2_user with mysql.connector: 8.0 is SUCCESS, 8.4 is FAIL\n\nmysql-versionup-test/mysql-compare/python/tests/test_auth.py:34: Failed"}, "teardown": {"duration": 0.0002645369968377054, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py::test_authentication_comparison[pymysql-native_user]", "lineno": 4, "outcome": "failed", "keywords": ["test_authentication_comparison[pymysql-native_user]", "parametrize", "pytestmark", "pymysql-native_user", "test_auth.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.0003064430202357471, "outcome": "passed"}, "call": {"duration": 0.006691007991321385, "outcome": "failed", "crash": {"path": "/home/ubuntu/dev-proj/agile_vibe_test/mysql-versionup-test/mysql-compare/python/tests/test_auth.py", "lineno": 34, "message": "Failed: Authentication behavior differs for native_user with pymysql: 8.0 is SUCCESS, 8.4 is FAIL"}, "traceback": [{"path": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py", "lineno": 34, "message": "Failed"}], "stdout": "\n--- Comparing auth for user 'native_user' with driver 'pymysql' ---\nFailed to connect to mysql84 using pymysql with user native_user: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods\nResult for MySQL 8.0: SUCCESS\nResult for MySQL 8.4: FAIL\n", "longrepr": "user_key = 'native_user', driver = 'pymysql'\n\n    @pytest.mark.parametrize(\"user_key\", [\"native_user\", \"sha2_user\"])\n    @pytest.mark.parametrize(\"driver\", [\"mysql.connector\", \"pymysql\"])\n    def test_authentication_comparison(user_key, driver):\n        \"\"\"\n        Compares authentication behavior between MySQL 8.0 and 8.4.\n        The goal is to observe and report differences, not to pass/fail in a traditional sense.\n        \"\"\"\n        user_info = AUTH_USERS[user_key]\n        results = {}\n    \n        print(f\"\\n--- Comparing auth for user '{user_key}' with driver '{driver}' ---\")\n    \n        # Test against MySQL 8.0\n        conn80 = get_db_connection(\"mysql80\", user=user_info[\"user\"], password=user_info[\"password\"], driver=driver)\n        results[\"mysql80\"] = \"SUCCESS\" if conn80 else \"FAIL\"\n        if conn80:\n            conn80.close()\n    \n        # Test against MySQL 8.4\n        conn84 = get_db_connection(\"mysql84\", user=user_info[\"user\"], password=user_info[\"password\"], driver=driver)\n        results[\"mysql84\"] = \"SUCCESS\" if conn84 else \"FAIL\"\n        if conn84:\n            conn84.close()\n    \n        print(f\"Result for MySQL 8.0: {results['mysql80']}\")\n        print(f\"Result for MySQL 8.4: {results['mysql84']}\")\n    \n        # This assertion will fail if the behavior is different, highlighting the change.\n        if results[\"mysql80\"] != results[\"mysql84\"]:\n>           pytest.fail(f\"Authentication behavior differs for {user_key} with {driver}: 8.0 is {results['mysql80']}, 8.4 is {results['mysql84']}\")\nE           Failed: Authentication behavior differs for native_user with pymysql: 8.0 is SUCCESS, 8.4 is FAIL\n\nmysql-versionup-test/mysql-compare/python/tests/test_auth.py:34: Failed"}, "teardown": {"duration": 0.00015359098324552178, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py::test_authentication_comparison[pymysql-sha2_user]", "lineno": 4, "outcome": "failed", "keywords": ["test_authentication_comparison[pymysql-sha2_user]", "parametrize", "pytestmark", "pymysql-sha2_user", "test_auth.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.00023051502648741007, "outcome": "passed"}, "call": {"duration": 0.005234974989434704, "outcome": "failed", "crash": {"path": "/home/ubuntu/dev-proj/agile_vibe_test/mysql-versionup-test/mysql-compare/python/tests/test_auth.py", "lineno": 34, "message": "Failed: Authentication behavior differs for sha2_user with pymysql: 8.0 is SUCCESS, 8.4 is FAIL"}, "traceback": [{"path": "mysql-versionup-test/mysql-compare/python/tests/test_auth.py", "lineno": 34, "message": "Failed"}], "stdout": "\n--- Comparing auth for user 'sha2_user' with driver 'pymysql' ---\nFailed to connect to mysql84 using pymysql with user sha2_user: 'cryptography' package is required for sha256_password or caching_sha2_password auth methods\nResult for MySQL 8.0: SUCCESS\nResult for MySQL 8.4: FAIL\n", "longrepr": "user_key = 'sha2_user', driver = 'pymysql'\n\n    @pytest.mark.parametrize(\"user_key\", [\"native_user\", \"sha2_user\"])\n    @pytest.mark.parametrize(\"driver\", [\"mysql.connector\", \"pymysql\"])\n    def test_authentication_comparison(user_key, driver):\n        \"\"\"\n        Compares authentication behavior between MySQL 8.0 and 8.4.\n        The goal is to observe and report differences, not to pass/fail in a traditional sense.\n        \"\"\"\n        user_info = AUTH_USERS[user_key]\n        results = {}\n    \n        print(f\"\\n--- Comparing auth for user '{user_key}' with driver '{driver}' ---\")\n    \n        # Test against MySQL 8.0\n        conn80 = get_db_connection(\"mysql80\", user=user_info[\"user\"], password=user_info[\"password\"], driver=driver)\n        results[\"mysql80\"] = \"SUCCESS\" if conn80 else \"FAIL\"\n        if conn80:\n            conn80.close()\n    \n        # Test against MySQL 8.4\n        conn84 = get_db_connection(\"mysql84\", user=user_info[\"user\"], password=user_info[\"password\"], driver=driver)\n        results[\"mysql84\"] = \"SUCCESS\" if conn84 else \"FAIL\"\n        if conn84:\n            conn84.close()\n    \n        print(f\"Result for MySQL 8.0: {results['mysql80']}\")\n        print(f\"Result for MySQL 8.4: {results['mysql84']}\")\n    \n        # This assertion will fail if the behavior is different, highlighting the change.\n        if results[\"mysql80\"] != results[\"mysql84\"]:\n>           pytest.fail(f\"Authentication behavior differs for {user_key} with {driver}: 8.0 is {results['mysql80']}, 8.4 is {results['mysql84']}\")\nE           Failed: Authentication behavior differs for sha2_user with pymysql: 8.0 is SUCCESS, 8.4 is FAIL\n\nmysql-versionup-test/mysql-compare/python/tests/test_auth.py:34: Failed"}, "teardown": {"duration": 0.000147558021126315, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_no_parent_pk[mysql80]", "lineno": 3, "outcome": "passed", "keywords": ["test_fk_no_parent_pk[mysql80]", "mysql80", "test_fk.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.038571437005884945, "outcome": "passed"}, "call": {"duration": 0.1303448739927262, "outcome": "passed", "stdout": "\n--- [mysql80] Testing FK creation without parent PK/UNIQUE ---\n[mysql80] Result: FK creation FAILED as expected.\n[mysql80] Error Code: 1822, Msg: Failed to add the foreign key constraint. Missing index for constraint 'child_ibfk_1' in the referenced table 'parent'\n"}, "teardown": {"duration": 0.0018597280140966177, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_column_type_mismatch[mysql80]", "lineno": 40, "outcome": "passed", "keywords": ["test_fk_column_type_mismatch[mysql80]", "mysql80", "test_fk.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.10177997499704361, "outcome": "passed"}, "call": {"duration": 0.10376707298564725, "outcome": "passed", "stdout": "\n--- [mysql80] Testing FK creation with column type mismatch ---\n[mysql80] Result: FK creation with type mismatch FAILED.\n[mysql80] Error Code: 3780, Msg: Referencing column 'parent_id' and referenced column 'id' in foreign key constraint 'child_type_ibfk_1' are incompatible.\n"}, "teardown": {"duration": 0.0016056859749369323, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_column_length_mismatch[mysql80]", "lineno": 62, "outcome": "passed", "keywords": ["test_fk_column_length_mismatch[mysql80]", "mysql80", "test_fk.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.10781998600577936, "outcome": "passed"}, "call": {"duration": 0.2109936899796594, "outcome": "passed", "stdout": "\n--- [mysql80] Testing FK creation with column length mismatch ---\n[mysql80] Result: FK creation with length mismatch SUCCEEDED as expected.\n"}, "teardown": {"duration": 0.0018231769790872931, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_collation_mismatch[mysql80]", "lineno": 94, "outcome": "passed", "keywords": ["test_fk_collation_mismatch[mysql80]", "mysql80", "test_fk.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.17628189202514477, "outcome": "passed"}, "call": {"duration": 0.11623747300473042, "outcome": "passed", "stdout": "\n--- [mysql80] Testing FK creation with collation mismatch ---\n[mysql80] Result: FK creation with collation mismatch FAILED as expected.\n[mysql80] Error Code: 3780, Msg: Referencing column 'parent_id' and referenced column 'id' in foreign key constraint 'child_coll_ibfk_1' are incompatible.\n"}, "teardown": {"duration": 0.0015368679887615144, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_no_parent_pk[mysql84]", "lineno": 3, "outcome": "passed", "keywords": ["test_fk_no_parent_pk[mysql84]", "mysql84", "test_fk.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.11704432000988163, "outcome": "passed"}, "call": {"duration": 0.09331448102602735, "outcome": "passed", "stdout": "\n--- [mysql84] Testing FK creation without parent PK/UNIQUE ---\n[mysql84] Result: FK creation FAILED as expected.\n[mysql84] Error Code: 6125, Msg: Failed to add the foreign key constraint. Missing unique key for constraint 'child_ibfk_1' in the referenced table 'parent'\n"}, "teardown": {"duration": 0.002101143996696919, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_column_type_mismatch[mysql84]", "lineno": 40, "outcome": "passed", "keywords": ["test_fk_column_type_mismatch[mysql84]", "mysql84", "test_fk.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.10141735000070184, "outcome": "passed"}, "call": {"duration": 0.07968665199587122, "outcome": "passed", "stdout": "\n--- [mysql84] Testing FK creation with column type mismatch ---\n[mysql84] Result: FK creation with type mismatch FAILED.\n[mysql84] Error Code: 3780, Msg: Referencing column 'parent_id' and referenced column 'id' in foreign key constraint 'child_type_ibfk_1' are incompatible.\n"}, "teardown": {"duration": 0.0018994190031662583, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_column_length_mismatch[mysql84]", "lineno": 62, "outcome": "passed", "keywords": ["test_fk_column_length_mismatch[mysql84]", "mysql84", "test_fk.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.09553901199251413, "outcome": "passed"}, "call": {"duration": 0.18472042499342933, "outcome": "passed", "stdout": "\n--- [mysql84] Testing FK creation with column length mismatch ---\n[mysql84] Result: FK creation with length mismatch SUCCEEDED as expected.\n"}, "teardown": {"duration": 0.0013628030137624592, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_fk.py::test_fk_collation_mismatch[mysql84]", "lineno": 94, "outcome": "passed", "keywords": ["test_fk_collation_mismatch[mysql84]", "mysql84", "test_fk.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.15016743799787946, "outcome": "passed"}, "call": {"duration": 0.07472646801033989, "outcome": "passed", "stdout": "\n--- [mysql84] Testing FK creation with collation mismatch ---\n[mysql84] Result: FK creation with collation mismatch FAILED as expected.\n[mysql84] Error Code: 3780, Msg: Referencing column 'parent_id' and referenced column 'id' in foreign key constraint 'child_coll_ibfk_1' are incompatible.\n"}, "teardown": {"duration": 0.002444182988256216, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_perf_simple.py::TestPerformance::test_insert_tps[mysql80]", "lineno": 43, "outcome": "passed", "keywords": ["test_insert_tps[mysql80]", "mysql80", "TestPerformance", "usefixtures", "test_perf_simple.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 1.2487533569801599, "outcome": "passed", "stdout": "\n--- [mysql80] Populating table with 50000 rows for perf tests ---\n[mysql80] Population complete.\n"}, "call": {"duration": 0.5323008609993849, "outcome": "passed", "stdout": "\n--- [mysql80] Testing Insert TPS (executemany) ---\n[mysql80] Result: Inserted 50000 rows in 0.50 seconds.\n[mysql80] TPS: 99470.95\n"}, "user_properties": [{"tps": 99470.94966290472}], "teardown": {"duration": 0.0002098709810525179, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_perf_simple.py::TestPerformance::test_select_latency[mysql80]", "lineno": 69, "outcome": "passed", "keywords": ["test_select_latency[mysql80]", "mysql80", "TestPerformance", "usefixtures", "test_perf_simple.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.0003589369880501181, "outcome": "passed"}, "call": {"duration": 7.465995617996668, "outcome": "passed", "stdout": "\n--- [mysql80] Testing Select Latency ---\n[mysql80] Performing warm-up selects: 1000 queries\n[mysql80] Selecting 10000 rows by PK...\n[mysql80] Result: Performed 10000 lookups in 6.62 seconds.\n[mysql80] Average Latency: 0.6621 ms\n"}, "user_properties": [{"avg_latency_ms": 0.66207435131073}], "teardown": {"duration": 0.00017362600192427635, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_perf_simple.py::TestPerformance::test_insert_tps[mysql84]", "lineno": 43, "outcome": "passed", "keywords": ["test_insert_tps[mysql84]", "mysql84", "TestPerformance", "usefixtures", "test_perf_simple.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 1.1719113339786418, "outcome": "passed", "stdout": "\n--- [mysql84] Populating table with 50000 rows for perf tests ---\n[mysql84] Population complete.\n"}, "call": {"duration": 0.5917005160008557, "outcome": "passed", "stdout": "\n--- [mysql84] Testing Insert TPS (executemany) ---\n[mysql84] Result: Inserted 50000 rows in 0.58 seconds.\n[mysql84] TPS: 86255.98\n"}, "user_properties": [{"tps": 86255.98031021934}], "teardown": {"duration": 0.00029657900449819863, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_perf_simple.py::TestPerformance::test_select_latency[mysql84]", "lineno": 69, "outcome": "passed", "keywords": ["test_select_latency[mysql84]", "mysql84", "TestPerformance", "usefixtures", "test_perf_simple.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.00046388499322347343, "outcome": "passed"}, "call": {"duration": 7.5161762250063475, "outcome": "passed", "stdout": "\n--- [mysql84] Testing Select Latency ---\n[mysql84] Performing warm-up selects: 1000 queries\n[mysql84] Selecting 10000 rows by PK...\n[mysql84] Result: Performed 10000 lookups in 6.76 seconds.\n[mysql84] Average Latency: 0.6764 ms\n"}, "user_properties": [{"avg_latency_ms": 0.6763888597488403}], "teardown": {"duration": 0.001101122994441539, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_pk_less_table[mysql80]", "lineno": 3, "outcome": "passed", "keywords": ["test_pk_less_table[mysql80]", "mysql80", "test_schema_compat.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.09597476202179678, "outcome": "passed"}, "call": {"duration": 0.16937680798582733, "outcome": "passed", "stdout": "\n--- [mysql80] Testing creation of PK-less table ---\n[mysql80] Result: PK-less table created successfully.\n[mysql80] Result: Secondary index on PK-less table created successfully.\n"}, "teardown": {"duration": 0.0017782520153559744, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_collation_join[mysql80]", "lineno": 36, "outcome": "passed", "keywords": ["test_collation_join[mysql80]", "mysql80", "test_schema_compat.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.11635001201648265, "outcome": "passed"}, "call": {"duration": 0.2436487549857702, "outcome": "passed", "stdout": "\n--- [mysql80] Testing JOIN on different collations ---\n[mysql80] Result: JOIN on different collations FAILED as expected.\n[mysql80] Error Code: 1267, Msg: Illegal mix of collations (utf8mb4_general_ci,IMPLICIT) and (utf8mb4_0900_ai_ci,IMPLICIT) for operation '='\n"}, "teardown": {"duration": 0.00200215500080958, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_new_reserved_word[mysql80]", "lineno": 69, "outcome": "passed", "keywords": ["test_new_reserved_word[mysql80]", "mysql80", "test_schema_compat.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.25770359800662845, "outcome": "passed"}, "call": {"duration": 0.1418638429895509, "outcome": "passed", "stdout": "\n--- [mysql80] Testing new reserved word: QUALIFY ---\n[mysql80] Result: DDL with word 'QUALIFY' SUCCEEDED as expected.\n"}, "teardown": {"duration": 0.001564340986078605, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_removed_reserved_word[mysql80]", "lineno": 96, "outcome": "passed", "keywords": ["test_removed_reserved_word[mysql80]", "mysql80", "test_schema_compat.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.11540241100010462, "outcome": "passed"}, "call": {"duration": 0.0024859200057107955, "outcome": "passed", "stdout": "\n--- [mysql80] Testing removed reserved word: MASTER_BIND ---\n[mysql80] Result: DDL with word 'MASTER_BIND' FAILED as expected.\n"}, "teardown": {"duration": 0.0020367340184748173, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_pk_less_table[mysql84]", "lineno": 3, "outcome": "passed", "keywords": ["test_pk_less_table[mysql84]", "mysql84", "test_schema_compat.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.08840500900987536, "outcome": "passed"}, "call": {"duration": 0.13712776699685492, "outcome": "passed", "stdout": "\n--- [mysql84] Testing creation of PK-less table ---\n[mysql84] Result: PK-less table created successfully.\n[mysql84] Result: Secondary index on PK-less table created successfully.\n"}, "teardown": {"duration": 0.002023320004809648, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_collation_join[mysql84]", "lineno": 36, "outcome": "passed", "keywords": ["test_collation_join[mysql84]", "mysql84", "test_schema_compat.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.10223620699252933, "outcome": "passed"}, "call": {"duration": 0.19331126200268045, "outcome": "passed", "stdout": "\n--- [mysql84] Testing JOIN on different collations ---\n[mysql84] Result: JOIN on different collations FAILED as expected.\n[mysql84] Error Code: 1267, Msg: Illegal mix of collations (utf8mb4_general_ci,IMPLICIT) and (utf8mb4_0900_ai_ci,IMPLICIT) for operation '='\n"}, "teardown": {"duration": 0.0018211000133305788, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_new_reserved_word[mysql84]", "lineno": 69, "outcome": "passed", "keywords": ["test_new_reserved_word[mysql84]", "mysql84", "test_schema_compat.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.14444150400231592, "outcome": "passed"}, "call": {"duration": 0.0019875419966410846, "outcome": "passed", "stdout": "\n--- [mysql84] Testing new reserved word: QUALIFY ---\n[mysql84] Result: DDL with word 'QUALIFY' FAILED as expected.\n"}, "teardown": {"duration": 0.001877132017398253, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_schema_compat.py::test_removed_reserved_word[mysql84]", "lineno": 96, "outcome": "passed", "keywords": ["test_removed_reserved_word[mysql84]", "mysql84", "test_schema_compat.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.04814625499420799, "outcome": "passed"}, "call": {"duration": 0.06537589899380691, "outcome": "passed", "stdout": "\n--- [mysql84] Testing removed reserved word: MASTER_BIND ---\n[mysql84] Result: DDL with word 'MASTER_BIND' SUCCEEDED as expected.\n"}, "teardown": {"duration": 0.0019696480012498796, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[binlog_expire_logs_seconds]", "lineno": 36, "outcome": "passed", "keywords": ["test_variable_comparison[binlog_expire_logs_seconds]", "parametrize", "pytestmark", "binlog_expire_logs_seconds", "test_show_variables.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.09729840100044385, "outcome": "passed"}, "call": {"duration": 0.0003434890240896493, "outcome": "passed", "stdout": "\n--- Comparing variable: binlog_expire_logs_seconds ---\n[mysql80] binlog_expire_logs_seconds = 2592000\n[mysql84] binlog_expire_logs_seconds = 2592000\n"}, "teardown": {"duration": 0.00018664798699319363, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[innodb_flush_neighbors]", "lineno": 36, "outcome": "passed", "keywords": ["test_variable_comparison[innodb_flush_neighbors]", "parametrize", "pytestmark", "innodb_flush_neighbors", "test_show_variables.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.0003956180007662624, "outcome": "passed"}, "call": {"duration": 0.0001971860183402896, "outcome": "passed", "stdout": "\n--- Comparing variable: innodb_flush_neighbors ---\n[mysql80] innodb_flush_neighbors = 0\n[mysql84] innodb_flush_neighbors = 0\n"}, "teardown": {"duration": 0.00018322898540645838, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[innodb_buffer_pool_in_core_file]", "lineno": 36, "outcome": "failed", "keywords": ["test_variable_comparison[innodb_buffer_pool_in_core_file]", "parametrize", "pytestmark", "innodb_buffer_pool_in_core_file", "test_show_variables.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.0002400639932602644, "outcome": "passed"}, "call": {"duration": 0.0007266570173669606, "outcome": "failed", "crash": {"path": "/home/ubuntu/dev-proj/agile_vibe_test/mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py", "lineno": 50, "message": "AssertionError: Variable 'innodb_buffer_pool_in_core_file' differs: 8.0 is 'ON', 8.4 is 'OFF'\nassert 'ON' == 'OFF'\n  \n  - OFF\n  + ON"}, "traceback": [{"path": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py", "lineno": 50, "message": "AssertionError"}], "stdout": "\n--- Comparing variable: innodb_buffer_pool_in_core_file ---\n[mysql80] innodb_buffer_pool_in_core_file = ON\n[mysql84] innodb_buffer_pool_in_core_file = OFF\n", "longrepr": "variable_name = 'innodb_buffer_pool_in_core_file'\ndb_variables = {'mysql80': {'activate_all_roles_on_login': 'OFF', 'admin_address': '', 'admin_port': '33062', 'admin_ssl_ca': '', ...}, 'mysql84': {'activate_all_roles_on_login': 'OFF', 'admin_address': '', 'admin_port': '33062', 'admin_ssl_ca': '', ...}}\n\n    @pytest.mark.parametrize(\"variable_name\", VARIABLES_TO_COMPARE)\n    def test_variable_comparison(variable_name, db_variables):\n        \"\"\"\n        Compares the value of a specific system variable between MySQL 8.0 and 8.4.\n        \"\"\"\n        print(f\"\\n--- Comparing variable: {variable_name} ---\")\n    \n        val80 = db_variables['mysql80'].get(variable_name)\n        val84 = db_variables['mysql84'].get(variable_name)\n    \n        print(f\"[mysql80] {variable_name} = {val80}\")\n        print(f\"[mysql84] {variable_name} = {val84}\")\n    \n>       assert val80 == val84, f\"Variable '{variable_name}' differs: 8.0 is '{val80}', 8.4 is '{val84}'\"\nE       AssertionError: Variable 'innodb_buffer_pool_in_core_file' differs: 8.0 is 'ON', 8.4 is 'OFF'\nE       assert 'ON' == 'OFF'\nE         \nE         - OFF\nE         + ON\n\nmysql-versionup-test/mysql-compare/python/tests/test_show_variables.py:50: AssertionError"}, "teardown": {"duration": 0.00026145699666813016, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[innodb_flush_log_at_trx_commit]", "lineno": 36, "outcome": "passed", "keywords": ["test_variable_comparison[innodb_flush_log_at_trx_commit]", "parametrize", "pytestmark", "innodb_flush_log_at_trx_commit", "test_show_variables.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.0002079900004900992, "outcome": "passed"}, "call": {"duration": 0.00013587597641162574, "outcome": "passed", "stdout": "\n--- Comparing variable: innodb_flush_log_at_trx_commit ---\n[mysql80] innodb_flush_log_at_trx_commit = 1\n[mysql84] innodb_flush_log_at_trx_commit = 1\n"}, "teardown": {"duration": 0.00011231101234443486, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[innodb_log_file_size]", "lineno": 36, "outcome": "passed", "keywords": ["test_variable_comparison[innodb_log_file_size]", "parametrize", "pytestmark", "innodb_log_file_size", "test_show_variables.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.00017915500211529434, "outcome": "passed"}, "call": {"duration": 0.0008350450079888105, "outcome": "passed", "stdout": "\n--- Comparing variable: innodb_log_file_size ---\n[mysql80] innodb_log_file_size = 50331648\n[mysql84] innodb_log_file_size = 50331648\n"}, "teardown": {"duration": 0.00014272797852754593, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[gtid_mode]", "lineno": 36, "outcome": "passed", "keywords": ["test_variable_comparison[gtid_mode]", "parametrize", "pytestmark", "gtid_mode", "test_show_variables.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.00021707400446757674, "outcome": "passed"}, "call": {"duration": 0.00037758401595056057, "outcome": "passed", "stdout": "\n--- Comparing variable: gtid_mode ---\n[mysql80] gtid_mode = OFF\n[mysql84] gtid_mode = OFF\n"}, "teardown": {"duration": 0.00014230600208975375, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[enforce_gtid_consistency]", "lineno": 36, "outcome": "passed", "keywords": ["test_variable_comparison[enforce_gtid_consistency]", "parametrize", "pytestmark", "enforce_gtid_consistency", "test_show_variables.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.0002673120179679245, "outcome": "passed"}, "call": {"duration": 0.0002839539956767112, "outcome": "passed", "stdout": "\n--- Comparing variable: enforce_gtid_consistency ---\n[mysql80] enforce_gtid_consistency = OFF\n[mysql84] enforce_gtid_consistency = OFF\n"}, "teardown": {"duration": 0.00014520500553771853, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[log_bin]", "lineno": 36, "outcome": "passed", "keywords": ["test_variable_comparison[log_bin]", "parametrize", "pytestmark", "log_bin", "test_show_variables.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.00021249102428555489, "outcome": "passed"}, "call": {"duration": 0.0002122060104738921, "outcome": "passed", "stdout": "\n--- Comparing variable: log_bin ---\n[mysql80] log_bin = ON\n[mysql84] log_bin = ON\n"}, "teardown": {"duration": 0.00012391599011607468, "outcome": "passed"}}, {"nodeid": "mysql-versionup-test/mysql-compare/python/tests/test_show_variables.py::test_variable_comparison[binlog_row_image]", "lineno": 36, "outcome": "passed", "keywords": ["test_variable_comparison[binlog_row_image]", "parametrize", "pytestmark", "binlog_row_image", "test_show_variables.py", "tests", "python", "mysql-compare", "mysql-versionup-test", "agile_vibe_test", ""], "setup": {"duration": 0.00018726999405771494, "outcome": "passed"}, "call": {"duration": 0.00017375298193655908, "outcome": "passed", "stdout": "\n--- Comparing variable: binlog_row_image ---\n[mysql80] binlog_row_image = FULL\n[mysql84] binlog_row_image = FULL\n"}, "teardown": {"duration": 0.00015063097816891968, "outcome": "passed"}}]}