# MySQL 8.0 vs 8.4 λ²„μ „ μ—…κ·Έλ μ΄λ“ νΈν™μ„± ν…μ¤νΈ μλ™ν™”

μ΄ ν”„λ΅μ νΈλ” MySQL 8.0.42 λ²„μ „μ—μ„ 8.4.7 LTS λ²„μ „μΌλ΅ μ—…κ·Έλ μ΄λ“ μ‹ λ°μƒν•  μ μλ” νΈν™μ„± μ΄μ, μ‹μ¤ν… μ„¤μ • λ³€ν™”, κ·Έλ¦¬κ³  μ„±λ¥ κ²½ν–¥μ„ μλ™μΌλ΅ κ²€μ¦ν•κΈ° μ„ν• ν…μ¤νΈλ² λ“μ…λ‹λ‹¤.

## π€ ν”„λ΅μ νΈ κ°μ”

MySQL 8.4λ” νμ‹  λ¦΄λ¦¬μ¤(Innovation Release) μ΄ν›„μ μ²« λ²μ§Έ LTS λ²„μ „μΌλ΅, μ—¬λ¬ κΈ°λ³Έ μ„¤μ •κ³Ό μΈμ¦ λ°©μ‹μ΄ λ³€κ²½λμ—μµλ‹λ‹¤. λ³Έ ν”„λ΅μ νΈλ” μ΄λ¬ν• λ³€ν™”κ°€ μ‹¤μ  μ΄μ ν™κ²½μ— λ―ΈμΉ  μν–¥μ„ μ‚¬μ „μ— νμ•…ν•κΈ° μ„ν•΄ **Docker κΈ°λ°μ λ…λ¦½λ ν…μ¤νΈ ν™κ²½**κ³Ό **Python/pytest κΈ°λ°μ μλ™ν™”λ κ²€μ¦ μ¤μ„νΈ**λ¥Ό μ κ³µν•©λ‹λ‹¤.

## π—οΈ ν”„λ΅μ νΈ κµ¬μ΅°

```text
mysql-versionup-test/
β”β”€β”€ docs/                   # ν”„λ΅μ νΈ λ¬Έμ„ (PRD, λ°±λ΅κ·Έ, λ¦¬ν¬νΈ, νκ³  λ“±)
β”β”€β”€ mysql-compare/          # μΈν”„λΌ κµ¬μ„±
β”‚   β”β”€β”€ docker-compose.yml  # MySQL 8.0 & 8.4 μ»¨ν…μ΄λ„ μ •μ
β”‚   β”β”€β”€ mysql80/            # 8.0μ© μ„¤μ • (my.cnf, init.sql)
β”‚   β””β”€β”€ mysql84/            # 8.4μ© μ„¤μ • (my.cnf, init.sql)
β””β”€β”€ python/                 # ν…μ¤νΈ μλ™ν™” μ¤ν¬λ¦½νΈ
    β”β”€β”€ tests/              # pytest κΈ°λ° ν…μ¤νΈ μΌ€μ΄μ¤
    β”β”€β”€ common_db.py        # DB μ—°κ²° λ° μ ν‹Έλ¦¬ν‹°
    β”β”€β”€ run_tests.py        # μ „μ²΄ ν…μ¤νΈ μ‹¤ν–‰κΈ° (pytest μ¤μΌ€μ¤νΈλ μ΄ν„°)
    β”β”€β”€ compare_variables.py # μ‹μ¤ν… λ³€μ μ „μ λΉ„κµ λ° λ°μ΄ν„° μ¶”μ¶ λ„κµ¬
    β””β”€β”€ generate_report.py  # κ²°κ³Ό λ¦¬ν¬νΈ μƒμ„±κΈ°
```

## π§ μ£Όμ” ν…μ¤νΈ ν•­λ©

1.  **μΈμ¦ λ°©μ‹ (Authentication)**
    - `mysql_native_password` λΉ„ν™μ„±ν™”μ— λ”°λ¥Έ μ ‘μ† μ‹¤ν¨ κ²€μ¦
    - `caching_sha2_password` λ° `sha2_user` νΈν™μ„± ν™•μΈ
2.  **μ¤ν‚¤λ§ λ° DDL νΈν™μ„± (Schema/DDL)**
    - Foreign Key μ μ•½ μ΅°κ±΄ μƒμ„± κ·μΉ™ λ³€ν™” κ²€μ¦
    - PK μ—†λ” ν…μ΄λΈ” μƒμ„± λ° μΈλ±μ¤ μ •μ±… ν™•μΈ
    - μ‹ κ· μμ•½μ–΄ λ° Collation JOIN νΈν™μ„± ν…μ¤νΈ
3.  **μ‹μ¤ν… μ¤ν‚¤λ§ (System Schema)**
    - `information_schema` λ° `mysql` DBμ ν…μ΄λΈ”/μ»¬λΌ λ³€κ²½ μ‚¬ν•­ μ „μ λΉ„κµ
4.  **μ‹μ¤ν… λ³€μ (Global Variables)**
    - 600μ—¬ κ°μ μ‹μ¤ν… λ³€μ μ „μ λΉ„κµ (κΈ°λ³Έκ°’ λ³€κ²½, μ¶”κ°€/μ‚­μ  ν•­λ© μ‹λ³„)
5.  **μ„±λ¥ κ²½ν–¥ (Performance)**
    - λ²„μ „ κ°„ Insert TPS λ° Select Latency μƒλ€μ  λΉ„κµ

## π› οΈ μ‹¤ν–‰ λ°©λ²•

μƒμ„Έν• μ‹¤ν–‰ κ°€μ΄λ“λ” **[μ „μ²΄ ν…μ¤νΈ μλ™ κ°€μ΄λ“](./docs/manual_test_guide.md)**λ¥Ό μ°Έμ΅°ν•μ‹­μ‹μ¤.

### 1. λ°μ΄ν„°λ² μ΄μ¤ ν™κ²½ κµ¬μ¶•
```bash
cd mysql-compare
docker-compose up -d
```

### 2. Python ν™κ²½ μ„¤μ •
```bash
cd python
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

### 3. ν…μ¤νΈ μ‹¤ν–‰ λ° λ¦¬ν¬νΈ μƒμ„±
```bash
# 1. μ „μ²΄ ν…μ¤νΈ μ‹¤ν–‰ (pytest κΈ°λ°)
python run_tests.py

# 2. μ‹μ¤ν… λ³€μ μ „μ λΉ„κµ λ° λ°μ΄ν„° μ¶”μ¶
# (generate_report.py μ‹¤ν–‰μ„ μ„ν• ν•„μ λ‹¨κ³„)
python compare_variables.py

# 3. λ§ν¬λ‹¤μ΄ λ¦¬ν¬νΈ μƒμ„±
python generate_report.py
```

## π“ ν…μ¤νΈ κ²°κ³Ό ν™•μΈ

ν…μ¤νΈκ°€ μ™„λ£λλ©΄ μ•„λ νμΌλ“¤μ„ ν†µν•΄ μƒμ„Έ κ²°κ³Όλ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.
- **μµμΆ… μ”μ•½ λ³΄κ³ μ„:** [docs/mysql_version_diff_test_report.md](./docs/mysql_version_diff_test_report.md)
- **μ „μ²΄ κ²°κ³Ό λ°μ΄ν„°:** `python/test_results.json`
- **μ‹μ¤ν… λ³€μ λΉ„κµ λ°μ΄ν„°:** `python/variable_comparison.json`

## π“ ν”„λ΅μ νΈ ν„ν™©

- **Sprint 1:** μΈν”„λΌ κµ¬μ¶•, μΈμ¦ λ° κΈ°λ³Έ μ¤ν‚¤λ§ ν…μ¤νΈ μ™„λ£
- **Sprint 2:** μ‹μ¤ν… μ¤ν‚¤λ§ λ° μ „μ²΄ λ³€μ λΉ„κµ, λ¦¬ν¬νΈ μλ™ν™” μ™„λ£
- **μµμΆ… νκ³ :** [docs/retro2.md](./docs/retro2.md)
